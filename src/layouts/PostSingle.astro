---
import { markdownify } from "@/lib/utils/textConverter";
// Hapus: import { render } from "astro:content";
// Hapus: import { Image } from "astro:assets"; // Pindah ke tag <img> biasa

// Import komponen Portable Text (Pastikan path-nya benar!)
import PortableTextRenderer from "@/components/PortableTextRenderer.jsx"; 

const { post } = Astro.props;

// post.data adalah objek Sanity yang sudah di-fetch
const sanityPost = post.data; 

const { title, imageUrl } = sanityPost;

// Konten utama yang berupa Portable Text array
const contentBody = sanityPost.body; 
---

<section class="section">
Â  <div class="container">
Â  Â  <div class="row justify-center">
Â  Â  Â  <div class="col-12 md:col-8">
Â  Â  Â  Â  <article class="text-center">
Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  imageUrl && (
Â  Â  Â  Â  Â  Â  Â  <img
               
Â  Â  Â  Â  Â  Â  Â  Â  src={imageUrl}
Â  Â  Â  Â  Â  Â  Â  Â  alt={title}
Â  Â  Â  Â  Â  Â  Â  Â  class="rounded-lg w-full h-auto"
                width="1000"
                height="500"
Â  Â  Â  Â  Â  Â  Â  />
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  <h1 set:html={markdownify(title)} class="h2 text-left my-6" />

Â  Â  Â  Â  Â  <div class="content mb-16 text-left">
Â  Â  Â  Â  Â  Â  {/* ðŸš¨ MENGGANTI <Content /> DENGAN RENDERER SANITY */}
            {/* client:load penting agar komponen React berjalan di browser */}
Â  Â  Â  Â  Â  Â  <PortableTextRenderer content={contentBody} client:load />
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </article>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>
</section>